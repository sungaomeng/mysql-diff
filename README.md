# MySQL-Diff

对比生产/测试数据库的表结构和索引,通过 Cronjob 每日执行,生成差异文件 XLSX 通过飞书企业机器人发送到群聊。

## 示例

| 表名                       | 是否存在差异 | 差异的内容                                                                                                                                                                                                                                                                      |
|----------------------------|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| search_agent_discover_feed | 有差异       | 1. 索引 'KEY `idx_lang_created_publish` (`lang`,`created_at`,`publish`)' 在测试数据库中缺失<br>2. 索引 'UNIQUE KEY `udx_task` (`task_id`)' 在测试数据库中缺失                                                                                                                       |
| important_exception        | 有差异       | 1. 列 'info' 不一致;<br>生产环境: ('info', 'longtext', 'YES', '', None, '')<br>测试环境: ('info', 'text', 'YES', '', None, '')                                                                                                                                                    |
| user_custom_form           | 无差异       | 无                                                                                                                                                                                                                                                                              |
